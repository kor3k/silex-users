{% extends 'base.html.twig' %}

{% block meta %}
    {{ parent() }}
    <meta property="og:title" content="{{ block('title') | trim }}" />
    <meta property="og:description" content="{{ block( 'meta_description' ) | trim }}" />
    <meta property="og:image" content="{{ meta_image | default( 'http://' ~ app.request.host ~ '/img/facebook.png' ) }}" />
    <meta property="og:image:secure_url" content="{{ meta_image | default( 'https://' ~ app.request.host ~ '/img/facebook.png' ) }}" />
{% endblock meta %}

{% block body %}

<div class="grid-container">
    <div class="grid-100 grid-parent" id="page-container">

        <header id="page-header" class="">
            {% block header %}
                <section class="grid-33 tablet-grid-33 mobile-grid-100">
                    silex
                </section>

                <section class="grid-33 tablet-grid-33 mobile-grid-100">
                    demo
                </section>

                <section class="grid-33 tablet-grid-33 mobile-grid-100">
                    app
                </section>
            {% endblock header %}
        </header>
        <div class="clear"></div>

        <nav class="grid-25 tablet-grid-25 mobile-grid-100" id="page-navigation">
            {% block navigation %}
                {% include 'navigation.html.twig' %}
            {% endblock navigation %}
        </nav>


        <article class="grid-75 tablet-grid-75 mobile-grid-100" id="page-content">
            {% block content 'content' %}
        </article>

        <div class="clear"></div>


        <footer class="grid-100 tablet-grid-100 mobile-grid-100" id="page-footer">
            {% block footer %}
                &copy; yo mama {{ 'now' | date( 'Y' ) }}
            {% endblock footer %}
        </footer>


    </div>
    <div class="clear"></div>

</div>

{% endblock body %}

{% block head %}        
    {{ block( 'javascripts' ) }}   
            
    {{ block( 'adapt_config' ) }}
        
    {{ block( 'stylesheets' ) }}    

    {{ block( 'adapt' ) }}    

    {{ block( 'favicon' ) }}

    <title>{% block title 'website' %}</title>
{% endblock head %}

{% block javascripts %}
    <script src="{{ constant( 'WEB' ) | default( '.' ) }}/js/jquery.js"></script>
{% endblock javascripts %}
    
{% block stylesheets %}
    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/master.css" />
    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/unsemantic-grid-base-no-ie7.css" />

    <noscript>
        <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/mobile.css" />
        <style>
            #page-header section:nth-of-type(2)
            {
                margin-left: 0;
                margin-right: 0;
            }
        </style>
    </noscript>       
{% endblock stylesheets %}    
    
{% block adapt %}
    <script src="{{ constant( 'WEB' ) | default( '.' ) }}/js/adapt.js"></script>
{% endblock adapt %}      

{% block adapt_config %}
<script type="text/javascript">
//<![CDATA[   

onScreenResize = function( i , width ) 
{                               
    {% if app.debug %}
        console.log( { 'width' : width , 'index' : i } ); 
    {% endif %}
    
    {% block onScreenResize %}
    {% endblock onScreenResize %}       
}

// Edit to suit your needs.
var ADAPT_CONFIG = {
// Where is your CSS?
//path: 'assets/css/',
path: '{{ constant( 'WEB' ) | default( '.' ) }}/css/' ,

// false = Only run once, when page first loads.
// true = Change on window resize and page tilt.
dynamic: true,

// Optional callback... myCallback(i, width)
callback: function(i,width)
{
//the callback is initially run BEFORE page is loaded, so not all DOM elements do exist yet, therefore we bind it to window:load    
    $(window).load(function(){        
        onScreenResize(i,width);
    });
      
    
    return onScreenResize(i,width);
},

// First range entry is the minimum.
// Last range entry is the maximum.
// Separate ranges by "to" keyword.
range: [
    '0 to 767px = mobile.css',
    '768px to 1024px = tablet.css' ,
    '1024px = desktop.css'
]

};    

//]]>       
</script> 
{% endblock adapt_config %}