{% extends 'base.html.twig' %}

{% block meta %}
    {{ parent() }}
    <meta property="og:title" content="{{ block('title') | trim }}" />
    <meta property="og:description" content="{{ block( 'meta_description' ) | trim }}" />
    <meta property="og:image" content="{{ meta_image | default( 'http://' ~ app.request.host ~ '/img/facebook.png' ) }}" />
    <meta property="og:image:secure_url" content="{{ meta_image | default( 'https://' ~ app.request.host ~ '/img/facebook.png' ) }}" />
{% endblock meta %}

{% block body %}

<div class="grid-container">
    <div class="grid-100 grid-parent" id="page-container">

        <header id="page-header" class="grid-100">
            {% block header %}
                silex user-handlig demo application
            {% endblock header %}
        </header>
        <div class="clear"></div>

        {#<nav class="grid-100">#}
        <nav class="grid-100 grid-parent" id="page-navigation">
        {% block navigation %}
            {% include 'navigation.html.twig' %}
        {% endblock navigation %}
        </nav>

        {#<nav class="navbar navbar-default grid-100" role="navigation" id="">#}
            {#<div class="collapse navbar-collapse" id="page-navigation">#}
            {#{% block navigation %}#}
                {#&#123;&#35;{% include 'navigation.html.twig' %}&#35;&#125;#}
                {#<ul class="nav navbar-nav">#}
                    {#<li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>#}
                    {#<li><a href="#">Link</a></li>#}
                    {#<li class="dropdown">#}
                        {#<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Dropdown <span class="caret"></span></a>#}
                        {#<ul class="dropdown-menu" role="menu">#}
                            {#<li><a href="#">Action</a></li>#}
                            {#<li><a href="#">Another action</a></li>#}
                            {#<li><a href="#">Something else here</a></li>#}
                            {#<li class="divider"></li>#}
                            {#<li><a href="#">Separated link</a></li>#}
                            {#<li class="divider"></li>#}
                            {#<li><a href="#">One more separated link</a></li>#}
                        {#</ul>#}
                    {#</li>#}
                {#</ul>#}
            {#{% endblock navigation %}#}
            {#</div>#}
        {#</nav>#}


        <article class="grid-75 tablet-grid-75 mobile-grid-100" id="page-content">
            {% block content 'content' %}
        </article>

        <div class="clear"></div>


        <footer class="grid-100 tablet-grid-100 mobile-grid-100" id="page-footer">
            {% block footer %}
                &copy; yo mama {{ 'now' | date( 'Y' ) }}
            {% endblock footer %}
        </footer>


    </div>
    <div class="clear"></div>

</div>

{% endblock body %}

{% block head %}        
    {{ block( 'javascripts' ) }}   
            
    {{ block( 'adapt_config' ) }}
        
    {{ block( 'stylesheets' ) }}    

    {{ block( 'adapt' ) }}    

    {{ block( 'favicon' ) }}

    <title>{% block title 'website' %}</title>
{% endblock head %}

{% block javascripts %}
    <script src="{{ constant( 'WEB' ) | default( '.' ) }}/js/jquery.js"></script>
    <script src="{{ constant( 'WEB' ) | default( '.' ) }}/bootstrap/js/bootstrap.min.js"></script>
{% endblock javascripts %}
    
{% block stylesheets %}
    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/master.css" />
    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/unsemantic-grid-base-no-ie7.css" />

    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/bootstrap/css/bootstrap-theme.css" />

    <noscript>
        <link rel="stylesheet" href="{{ constant( 'WEB' ) | default( '.' ) }}/css/mobile.css" />
        <style>
            #page-header section:nth-of-type(2)
            {
                margin-left: 0;
                margin-right: 0;
            }
        </style>
    </noscript>       
{% endblock stylesheets %}    
    
{% block adapt %}
    <script src="{{ constant( 'WEB' ) | default( '.' ) }}/js/adapt.js"></script>
{% endblock adapt %}      

{% block adapt_config %}
<script type="text/javascript">
//<![CDATA[   

onScreenResize = function( i , width ) 
{                               
    {% if app.debug %}
        console.log( { 'width' : width , 'index' : i } ); 
    {% endif %}
    
    {% block onScreenResize %}
    {% endblock onScreenResize %}       
}

// Edit to suit your needs.
var ADAPT_CONFIG = {
// Where is your CSS?
//path: 'assets/css/',
path: '{{ constant( 'WEB' ) | default( '.' ) }}/css/' ,

// false = Only run once, when page first loads.
// true = Change on window resize and page tilt.
dynamic: true,

// Optional callback... myCallback(i, width)
callback: function(i,width)
{
//the callback is initially run BEFORE page is loaded, so not all DOM elements do exist yet, therefore we bind it to window:load    
    $(window).load(function(){        
        onScreenResize(i,width);
    });
      
    
    return onScreenResize(i,width);
},

// First range entry is the minimum.
// Last range entry is the maximum.
// Separate ranges by "to" keyword.
range: [
    '0 to 767px = mobile.css',
    '768px to 1024px = tablet.css' ,
    '1024px = desktop.css'
]

};    

//]]>       
</script> 
{% endblock adapt_config %}